<!DOCTYPE html>
<html lang="{{ session.get('lang', 'es') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WS | Window Shopping</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <!-- ========================================================= -->
    <!-- ENCABEZADO Y LOGO -->
    <!-- ========================================================= -->
    <header>
        <div class="header-container">
            <h1 class="logo">WS</h1>
            <nav>
                <ul>
                    {% if is_logged() %}
                        <li><a href="{{ url_for('dashboard') }}">{{ t('Inicio', 'Home', 'é¦–é ') }}</a></li>
                        <li><a href="{{ url_for('carrito') }}">{{ t('Carrito', 'Cart', 'è³¼ç‰©è»Š') }}</a></li>
                        <li><a href="{{ url_for('logout') }}">{{ t('Cerrar sesiÃ³n', 'Logout', 'ç™»å‡º') }}</a></li>
                    {% else %}
                        <li><a href="{{ url_for('home') }}">{{ t('Inicio', 'Home', 'é¦–é ') }}</a></li>
                        <li><a href="{{ url_for('login') }}">{{ t('Iniciar sesiÃ³n', 'Login', 'ç™»å…¥') }}</a></li>
                        <li><a href="{{ url_for('register') }}">{{ t('Registrarse', 'Register', 'è¨»å†Š') }}</a></li>
                    {% endif %}
                </ul>
            </nav>

            <!-- Selector de idioma -->
            <div class="lang-selector">
                <a href="{{ url_for('set_lang', lang='es') }}">ğŸ‡ªğŸ‡¸</a>
                <a href="{{ url_for('set_lang', lang='en') }}">ğŸ‡¬ğŸ‡§</a>
                <a href="{{ url_for('set_lang', lang='zh') }}">ğŸ‡¨ğŸ‡³</a>
            </div>
        </div>
    </header>

    <!-- ========================================================= -->
    <!-- CONTENIDO PRINCIPAL -->
    <!-- ========================================================= -->
    <main>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class="flash-messages">
                    {% for msg in messages %}
                        <li>{{ msg }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        {% block content %}
        <!-- AquÃ­ se insertan los contenidos dinÃ¡micos -->
        {% endblock %}
    </main>

    <!-- ========================================================= -->
    <!-- PIE DE PÃGINA -->
    <!-- ========================================================= -->
    <footer>
        <p>Â© 2025 WS | Window Shopping â€” {{ t("Todos los derechos reservados", "All rights reserved", "ç‰ˆæ¬Šæ‰€æœ‰") }}</p>
    </footer>

</body>
</html>
