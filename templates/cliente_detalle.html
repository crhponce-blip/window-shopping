{% extends "base.html" %}
{% block content %}
<h2>{{ comp.nombre }}</h2>
<div class="cliente-detalle">
  <p><strong>{{ t("Rol","Role","角色") }}:</strong> Cliente extranjero</p>
  {% if comp.rut %}
    <p><strong>{{ t("Identificador","Identifier","識別碼") }}:</strong> {{ comp.rut }}</p>
  {% endif %}
  <p><strong>{{ t("País","Country","國家") }}:</strong> {{ comp.pais or "Extranjero" }}</p>
  <p><strong>{{ t("Email","Email","電子郵件") }}:</strong> {{ comp.email }}</p>
  <p><strong>{{ t("Teléfono","Phone","電話") }}:</strong> {{ comp.telefono }}</p>
  <p><strong>{{ t("Dirección","Address","地址") }}:</strong> {{ comp.direccion }}</p>
  <p><strong>{{ t("Descripción","Description","描述") }}:</strong> {{ comp.descripcion }}</p>
</div>

<hr>
<h3>{{ t("Ítems requeridos/ofertados","Requested/Offered Items","需求/提供的項目") }}</h3>
<table class="table">
  <thead>
    <tr>
      <th>{{ t("Tipo","Type","類型") }}</th>
      <th>{{ t("Detalle","Detail","細節") }}</th>
      <th>{{ t("Cantidad","Quantity","數量") }}</th>
      <th>{{ t("Origen","Origin","來源") }}</th>
      <th>{{ t("Precio","Price","價格") }}</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for it in comp.items %}
    <tr>
      <td>{{ it.tipo|capitalize }}</td>
      <td>{{ it.producto or it.servicio }}</td>
      <td>{{ it.cantidad or it.capacidad }}</td>
      <td>{{ it.origen or it.ubicacion }}</td>
      <td>{{ it.precio_caja or it.precio_kilo or "-" }}</td>
      <td>
        <form method="post" action="{{ url_for('cart_add') }}">
          <input type="hidden" name="empresa" value="{{ comp.nombre }}">
          {% if it.producto %}
            <input type="hidden" name="producto" value="{{ it.producto }}">
            <input type="hidden" name="variedad" value="{{ it.variedad }}">
            <input type="hidden" name="cantidad" value="{{ it.cantidad }}">
            <input type="hidden" name="bulto" value="{{ it.bulto }}">
            <input type="hidden" name="origen" value="{{ it.origen }}">
          {% elif it.servicio %}
            <input type="hidden" name="servicio" value="{{ it.servicio }}">
            <input type="hidden" name="capacidad" value="{{ it.capacidad }}">
            <input type="hidden" name="ubicacion" value="{{ it.ubicacion }}">
          {% endif %}
          <button class="btn">{{ t("Agregar","Add","加入") }}</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
