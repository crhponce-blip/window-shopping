{% extends "base.html" %}
{% block content %}
<div class="perfil-container">
    <h2>{{ t("Mi Perfil", "My Profile", "æˆ‘çš„è³‡æ–™") }}</h2>

    {% if mensaje %}
        <p class="info">{{ mensaje }}</p>
    {% endif %}

    <form method="POST">
        <input type="hidden" name="action" value="save_profile">
        <label>{{ t("Empresa", "Company", "å…¬å¸") }}</label>
        <input type="text" name="empresa" value="{{ perfil.empresa }}">
        <label>{{ t("Email", "Email", "é›»å­éƒµä»¶") }}</label>
        <input type="email" name="email" value="{{ perfil.email }}">
        <label>{{ t("TelÃ©fono", "Phone", "é›»è©±") }}</label>
        <input type="text" name="telefono" value="{{ perfil.telefono }}">
        <label>{{ t("DirecciÃ³n", "Address", "åœ°å€") }}</label>
        <input type="text" name="direccion" value="{{ perfil.direccion }}">
        <label>{{ t("DescripciÃ³n", "Description", "æè¿°") }}</label>
        <textarea name="descripcion">{{ perfil.descripcion }}</textarea>
        <button type="submit">{{ t("Guardar Cambios", "Save Changes", "å„²å­˜è®Šæ›´") }}</button>
    </form>

    <hr>

    <h3>{{ t("Tus Ã­tems", "Your Items", "æ‚¨çš„é …ç›®") }}</h3>
    <ul>
        {% for i, item in enumerate(perfil.items) %}
            <li>{{ item.producto or item.servicio }} - {{ item.tipo }}
                <form method="POST" style="display:inline;">
                    <button type="submit" name="action" value="delete_item_{{ i }}">ğŸ—‘ï¸</button>
                </form>
            </li>
        {% endfor %}
    </ul>

    <h3>{{ t("Agregar nuevo Ã­tem", "Add new item", "æ–°å¢é …ç›®") }}</h3>
    <form method="POST">
        <input type="hidden" name="action" value="add_item">
        <label>{{ t("Tipo de Perfil del Ãtem", "Item Type", "é …ç›®é¡å‹") }}</label>
        <select name="tipo_perfil_item">
            <option value="compra_venta">{{ t("Compra/Venta", "Buy/Sell", "è²·è³£") }}</option>
            <option value="servicios">{{ t("Servicios", "Services", "æœå‹™") }}</option>
        </select>
        <label>{{ t("Producto o Servicio", "Product or Service", "ç”¢å“æˆ–æœå‹™") }}</label>
        <input type="text" name="producto">
        <label>{{ t("Cantidad", "Quantity", "æ•¸é‡") }}</label>
        <input type="text" name="cantidad">
        <label>{{ t("Origen / UbicaciÃ³n", "Origin / Location", "ä¾†æº/åœ°é»") }}</label>
        <input type="text" name="origen">
        <label>{{ t("Precio Caja / Kilo", "Price per Box/Kg", "æ¯ç®±/å…¬æ–¤åƒ¹æ ¼") }}</label>
        <input type="text" name="precio_caja">
        <button type="submit">{{ t("Agregar", "Add", "æ–°å¢") }}</button>
    </form>
</div>
{% endblock %}
