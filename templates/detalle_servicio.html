{% extends "base.html" %}
{% block title %}{{ t("Servicios disponibles","Available Services","å¯ç”¨æœå‹™") }}{% endblock %}
{% block content %}
<div class="detalle-container" style="max-width:980px;margin:26px auto">
  <h2>{{ t("Servicios logÃ­sticos disponibles","Available Logistic Services","ç‰©æµæœå‹™æ¸…å–®") }}</h2>
  <form method="GET" style="display:flex;gap:8px;margin:10px 0">
    <input type="text" name="q" placeholder="{{ t('Buscar servicio o empresa...','Search service or company...','æœå°‹æœå‹™æˆ–å…¬å¸...') }}" value="{{ query }}">
    <button class="btn btn-secondary">{{ t("Buscar","Search","æœå°‹") }}</button>
  </form>

  <ul style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;list-style:none;padding:0">
    {% for c in data %}
      {% for item in c.items if item.tipo == 'servicio' %}
      <li style="background:rgba(255,255,255,.08);padding:14px;border-radius:10px;">
        <h3 style="margin:0 0 6px">{{ c.empresa }}</h3>
        <p><b>{{ t("Servicio:","Service:","æœå‹™ï¼š") }}</b> {{ item.servicio }}</p>
        {% if item.ubicacion %}<p><b>{{ t("UbicaciÃ³n:","Location:","ä½ç½®ï¼š") }}</b> {{ item.ubicacion }}</p>{% endif %}
        {% if item.capacidad %}<p><b>{{ t("Capacidad:","Capacity:","å®¹é‡ï¼š") }}</b> {{ item.capacidad }}</p>{% endif %}
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
          <form method="post" action="{{ url_for('cart_add') }}">
            <input type="hidden" name="username" value="{{ c.username }}">
            <input type="hidden" name="tipo" value="servicios">
            <button class="btn btn-success">{{ t("Agregar al carrito ğŸ›’","Add to cart ğŸ›’","åŠ å…¥è³¼ç‰©è»Š ğŸ›’") }}</button>
          </form>
          <a class="btn btn-secondary" href="{{ url_for('cliente_detalle', username=c.username) }}">{{ t("Ver perfil","View profile","æŸ¥çœ‹è³‡æ–™") }}</a>
        </div>
      </li>
      {% endfor %}
    {% else %}
      <li>{{ t("No hay servicios disponibles actualmente.","No services available at the moment.","ç›®å‰æ²’æœ‰å¯ç”¨çš„æœå‹™ã€‚") }}</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
