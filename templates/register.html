{% extends "base.html" %}
{% block content %}
<section class="form-container">
  <h2>{{ t("Registro de Usuario") }}</h2>

  <form method="POST" enctype="multipart/form-data" action="{{ url_for('register') }}">
    <label>{{ t("Correo electrónico", "Email") }}</label>
    <input type="email" name="usuario" placeholder="usuario@ejemplo.com" required>

    <label>{{ t("Contraseña", "Password") }}</label>
    <input type="password" name="password" required>

    <label>{{ t("Empresa / Organización") }}</label>
    <input type="text" name="empresa" placeholder="Nombre de empresa" required>

    <label>{{ t("Tipo de cuenta") }}</label>
    <select name="tipo" required>
      {% for tipo in tipos %}
        <option value="{{ tipo }}" {% if tipo == request.args.get('tipo') %}selected{% endif %}>{{ tipo|capitalize }}</option>
      {% endfor %}
    </select>

    <label>{{ t("Rol") }}</label>
    <select name="rol" required>
      {% for r in roles %}
        <option value="{{ r }}">{{ r }}</option>
      {% endfor %}
    </select>

    <label>{{ t("País (Código ISO de 2 letras)") }}</label>
    <input type="text" name="pais" maxlength="2" placeholder="CL" required>

    <label>{{ t("Subir RUT o documento") }}</label>
    <input type="file" name="rut_file" accept=".pdf,.jpg,.jpeg,.png">

    <button type="submit" class="btn btn-primary">{{ t("Registrar") }}</button>
  </form>

  <p><a href="{{ url_for('login') }}">{{ t("¿Ya tienes cuenta? Inicia sesión aquí") }}</a></p>
</section>
{% endblock %}
